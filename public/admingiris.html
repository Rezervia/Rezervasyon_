<!DOCTYPE html>
<html lang="tr">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Admin Girişi – Antakye Restaurant</title>
	<link rel="shortcut icon" href="antakye.ico" type="image/x-icon">

	<!-- Bootstrap ve FontAwesome -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			background: linear-gradient(135deg, #c94c29 0%, #2c3e50 100%);
			min-height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 20px;
			position: relative;
			overflow: hidden;
		}

		/* Animated Background Circles */
		body::before,
		body::after {
			content: '';
			position: absolute;
			border-radius: 50%;
			background: rgba(255, 255, 255, 0.05);
			animation: float 20s infinite ease-in-out;
		}

		body::before {
			width: 400px;
			height: 400px;
			top: -200px;
			left: -200px;
			animation-delay: 0s;
		}

		body::after {
			width: 600px;
			height: 600px;
			bottom: -300px;
			right: -300px;
			animation-delay: 5s;
		}

		@keyframes float {

			0%,
			100% {
				transform: translate(0, 0) scale(1);
			}

			50% {
				transform: translate(50px, 50px) scale(1.1);
			}
		}

		.login-container {
			position: relative;
			z-index: 1;
			width: 100%;
			max-width: 480px;
		}

		.admin-card {
			background: white;
			padding: 50px 40px;
			border-radius: 20px;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
			position: relative;
			overflow: hidden;
			animation: slideUp 0.6s ease;
		}

		@keyframes slideUp {
			from {
				opacity: 0;
				transform: translateY(30px);
			}

			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		/* Card Top Border Accent */
		.admin-card::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			height: 5px;
			background: linear-gradient(90deg, #c94c29 0%, #2c3e50 100%);
		}

		.admin-logo {
			width: 100px;
			height: 100px;
			margin: 0 auto 25px;
			border-radius: 50%;
			overflow: hidden;
			box-shadow: 0 8px 24px rgba(201, 76, 41, 0.3);
			border: 4px solid #f8f9fa;
			position: relative;
			animation: logoAppear 0.8s ease 0.2s backwards;
		}

		@keyframes logoAppear {
			from {
				opacity: 0;
				transform: scale(0.5) rotate(-10deg);
			}

			to {
				opacity: 1;
				transform: scale(1) rotate(0deg);
			}
		}

		.admin-logo img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			display: block;
		}

		h3 {
			text-align: center;
			color: #2c3e50;
			margin-bottom: 10px;
			font-weight: 700;
			font-size: 1.75rem;
			animation: fadeIn 0.8s ease 0.4s backwards;
		}

		.lead-small {
			text-align: center;
			color: #6c757d;
			font-size: 1rem;
			margin-bottom: 35px;
			animation: fadeIn 0.8s ease 0.5s backwards;
		}

		@keyframes fadeIn {
			from {
				opacity: 0;
			}

			to {
				opacity: 1;
			}
		}

		.form-group {
			margin-bottom: 25px;
			animation: fadeIn 0.8s ease 0.6s backwards;
		}

		.form-label {
			font-weight: 600;
			color: #2c3e50;
			margin-bottom: 8px;
			display: flex;
			align-items: center;
			gap: 8px;
		}

		.form-label i {
			color: #c94c29;
		}

		.form-control {
			padding: 14px 16px;
			border: 2px solid #e9ecef;
			border-radius: 10px;
			font-size: 1rem;
			transition: all 0.3s;
		}

		.form-control:focus {
			outline: none;
			border-color: #c94c29;
			box-shadow: 0 0 0 4px rgba(201, 76, 41, 0.1);
		}

		.btn-login {
			width: 100%;
			padding: 14px;
			background: linear-gradient(135deg, #c94c29 0%, #b04223 100%);
			color: white;
			border: none;
			border-radius: 10px;
			font-size: 1.1rem;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s;
			box-shadow: 0 4px 15px rgba(201, 76, 41, 0.4);
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 10px;
			animation: fadeIn 0.8s ease 0.7s backwards;
		}

		.btn-login:hover {
			transform: translateY(-2px);
			box-shadow: 0 6px 20px rgba(201, 76, 41, 0.5);
		}

		.btn-login:active {
			transform: translateY(0);
		}

		.btn-login:disabled {
			opacity: 0.7;
			cursor: not-allowed;
			transform: none;
		}

		.message {
			margin-top: 20px;
			padding: 15px;
			border-radius: 10px;
			text-align: center;
			font-weight: 600;
			display: none;
			animation: slideDown 0.4s ease;
		}

		@keyframes slideDown {
			from {
				opacity: 0;
				transform: translateY(-10px);
			}

			to {
				opacity: 1;
				transform: translateY(0);
			}
		}

		.message.success {
			background: #d4edda;
			color: #155724;
			border: 1px solid #c3e6cb;
			display: block;
		}

		.message.error {
			background: #f8d7da;
			color: #721c24;
			border: 1px solid #f5c6cb;
			display: block;
		}

		.back-link {
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 8px;
			margin-top: 25px;
			color: #6c757d;
			text-decoration: none;
			font-weight: 500;
			transition: all 0.3s;
			animation: fadeIn 0.8s ease 0.8s backwards;
		}

		.back-link:hover {
			color: #c94c29;
			gap: 12px;
		}

		.back-link i {
			transition: transform 0.3s;
		}

		.back-link:hover i {
			transform: translateX(-4px);
		}

		/* Decorative Icons */
		.security-badge {
			position: absolute;
			top: 20px;
			right: 20px;
			width: 50px;
			height: 50px;
			background: linear-gradient(135deg, rgba(201, 76, 41, 0.1) 0%, rgba(44, 62, 80, 0.1) 100%);
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			color: #c94c29;
			font-size: 1.3rem;
			animation: pulse 2s infinite;
		}

		@keyframes pulse {

			0%,
			100% {
				transform: scale(1);
				opacity: 0.8;
			}

			50% {
				transform: scale(1.05);
				opacity: 1;
			}
		}

		/* Responsive */
		@media (max-width: 576px) {
			.admin-card {
				padding: 40px 25px;
			}

			h3 {
				font-size: 1.5rem;
			}

			.lead-small {
				font-size: 0.9rem;
			}

			.admin-logo {
				width: 80px;
				height: 80px;
			}
		}

		/* Loading Spinner */
		.spinner {
			width: 20px;
			height: 20px;
			border: 3px solid rgba(255, 255, 255, 0.3);
			border-top-color: white;
			border-radius: 50%;
			animation: spin 0.8s linear infinite;
		}

		@keyframes spin {
			to {
				transform: rotate(360deg);
			}
		}
	</style>
</head>

<body>
	<div class="login-container">
		<div class="admin-card">
			<div class="security-badge">
				<i class="fas fa-shield-halved"></i>
			</div>

			<div class="admin-logo">
				<img src="antakye-logo.png" alt="Antakye Restaurant">
			</div>

			<h3>Yönetici Girişi</h3>
			<p class="lead-small">Antakye Restaurant Admin Paneli</p>

			<form id="loginForm" action="/login" method="POST">
				<div class="form-group">
					<label for="username" class="form-label">
						<i class="fas fa-user"></i>
						Kullanıcı Adı
					</label>
					<input type="text" class="form-control" id="kullaniciAdi" name="kullaniciAdi" required
						autocomplete="kullaniciAdi" placeholder="Kullanıcı adınızı girin" />
				</div>

				<div class="form-group">
					<label for="password" class="form-label">
						<i class="fas fa-lock"></i>
						Parola
					</label>
					<input class="form-control" id="sifre" name="sifre" type="password" required
						autocomplete="current-password" placeholder="Parolanızı girin" />
				</div>

				<button class="btn-login" type="submit">
					<i class="fas fa-sign-in-alt"></i>
					<span id="btnText">Giriş Yap</span>
				</button>

				<div id="message" class="message"></div>
			</form>

			<a class="back-link" href="index.html" aria-label="Ana sayfaya dön">
				<i class="fas fa-arrow-left"></i>
				Ana sayfaya dön
			</a>
		</div>
	</div>

	<script>
		const form = document.getElementById('loginForm');
		const messageDiv = document.getElementById('message');
		const submitBtn = form.querySelector('button[type="submit"]');
		const btnText = document.getElementById('btnText');

		form.addEventListener('submit', async function (event) {
			event.preventDefault();

			const formData = new FormData(form);
			const data = new URLSearchParams(formData);

			// Butonu devre dışı bırak
			submitBtn.disabled = true;
			btnText.textContent = 'Giriş yapılıyor...';
			submitBtn.innerHTML = '<div class="spinner"></div> <span>Giriş yapılıyor...</span>';

			try {
				const response = await fetch('/login', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					},
					body: data
				});

				const result = await response.json();

				if (response.ok) {
					// Başarılı giriş
					messageDiv.className = 'message success';
					messageDiv.textContent = '✅ ' + result.message + ' Yönlendiriliyorsunuz...';

					// 1 saniye sonra admin.html'e yönlendir
					setTimeout(() => {
						window.location.href = 'admin.html';
					}, 1000);
				} else {
					// Hatalı giriş
					messageDiv.className = 'message error';
					messageDiv.textContent = '❌ ' + result.message;

					// Butonu tekrar aktif et
					submitBtn.disabled = false;
					submitBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> <span>Giriş Yap</span>';
				}
			} catch (error) {
				messageDiv.className = 'message error';
				messageDiv.textContent = '❌ Sunucuya bağlanırken hata oluştu.';

				// Butonu tekrar aktif et
				submitBtn.disabled = false;
				submitBtn.innerHTML = '<i class="fas fa-sign-in-alt"></i> <span>Giriş Yap</span>';
			}
		});

		// Enter key support
		document.querySelectorAll('input').forEach(input => {
			input.addEventListener('keypress', (e) => {
				if (e.key === 'Enter' && !submitBtn.disabled) {
					form.dispatchEvent(new Event('submit'));
				}
			});
		});
	</script>
</body>

</html>